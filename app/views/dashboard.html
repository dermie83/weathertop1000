#{extends 'main.html' /}
#{set title:'Dashboard' /}

#{menu id:"dashboard"/}

#{list items:stations, as:'station'}
  #{if station.readings.size() > 0}
  <div class="content box">
    <div class="columns is-mobile is-multiline is-centered">
      <div class="column is-long">
        <p class="bd-notification is-primary">
          <code class="html">${station.name}</code><br>
          lat : ${station.lat}<br>
          lng : ${station.lng}
        </p>
      </div>
      <div class="column is-long">
        <p class="bd-notification is-primary">
          <code class="html">Date/Time</code><br>
          ${station.getLatestTimestamp()}
        </p>
      </div>
      <div class="column is-long">
        <p class="bd-notification is-primary">
          <code class="html">Weather</code><br>
          ${station.getLatestWeatherCodeToText()}
        </p>
      </div>
      <div class="column is-long">
        <p class="bd-notification is-primary">
          <code class="html">Temp</code><br>
          ${station.getLatestTemp()} C<br>
          ${station.getLatestConvertTemp()} F <br>
          Max: ${station.getMaxTemp()} C <br>
          Min: ${station.getMinTemp()} C
        </p>
      </div>
      <div class="column is-long">
        <p class="bd-notification is-primary">
          <code class="html">Wind</code><br>
          ${station.getLatestBeaufortToText()}<br>
          ${station.getLatestWindDirectionToText()}<br>
          Feels like<br>
          ${station.getLatestWindChill()} C<br>
        </p>
      </div>
      <div class="column is-long">
        <p class="bd-notification is-primary">
          <code class="html">Pressure</code><br>
          ${station.getLatestPressure()} hPa
        </p>
      </div>
    </div>
      <a href="/station/${station.id}" class="icon has-text-primary">
        <i class="fas fa-folder"></i>
      </a>
      <a href="/dashboard/deleteStation/${station.id}" class="icon has-text-danger">
        <i class="fas fa-trash"></i>
      </a>
      </a>
  </div>
  #{/if}
  #{else}
<div class="container">
  <a href="/station/${station.id}">
    <div class="tags has-addons is-centered my-5">
      <span class="tag has-background-danger is-large is-uppercase has-text-weight-bold has-text-white m-0">Station: ${station.name}, Has no Readings Recorded</span>
      <span class="tag is-info is-large has-text-weight-bold is-uppercase has-text-weight-bold  has-text-white m-0">Click to Add A Reading</span>
    </div>
  </a>
</div>
  #{/else}
#{/list}
#{addstation /}



